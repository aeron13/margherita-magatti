<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">

<title>Margherita Magatti</title>
<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700&display=swap" rel="stylesheet">
<script type="text/javascript" src="jquery-2.1.1.min.js"></script>
<script type="text/javascript" src="jquery-ui.min.js"></script>
<link rel="stylesheet" type="text/css" href="./homepagestyle.css">
<link rel="stylesheet" type="text/css" href="./homepagestylemobile.css">
<link rel="stylesheet" type="text/css" href="./lifeline.css">


</head>


<body>

    <div id="wrapper-1">

      <div id="hi">
      </div>
      <div id="im">
        <div id="n-l">
        </div>
      </div>
      <div id="g-d-wrapper">
        <div id="g-d">

            <svg width="84.04" height="19.35" viewBox="0 0 84.04 19.35" class="freccia" id="frecciaA">
              <polyline class="cls-1" points="63.52 0.72 81.59 18.35 0 18.35"/>
            </svg>

        </div>
        <div id="simulator">
        </div>
      </div>
      <div id="nome">
      </div>
      <div id="c-e">
      </div>
    </div>

    <div id="wrapper-2">
      <div class="linktext">More about me...</div>
      <div id="lifeline">
        <p>2020</p>
        <p style="left: calc(100/56*15%)">2015</p>
        <p style="left: calc(100/56*30%)">2010</p>
        <p style="left: calc(100/56*40%)">2005</p>
        <p style="left: calc(100/56*50%)">2000</p>
        <div id="ed" class="container">
          <div id="ed0" class="quad0">Education</div>
          <div id="ed1" class="quad">Politecnico di Milano</div>
          <div id="ed2" class="quad">Scientific High School</div>
          <div id="ed3" class="quad">  </div>
          <div id="ed4" class="quad">  </div>
        </div>
        <div id="lang" class="container">
          <div id="lang0" class="quad0">Languages</div>
          <div id="lang1" class="quad">French</div>
          <div id="lang2" class="quad">English</div>
          <div id="lang3" class="quad">German</div>
        </div>
        <div id="sport" class="container">
          <div id="sport0" class="quad0">Sports</div>
          <div id="sport1" class="quad">Cycling</div>
          <div id="sport2" class="quad">Tennis</div>
          <div id="sport3" class="quad">Hiking</div>
        </div>
        <div id="art" class="container">
          <div id="art0" class="quad0">Music & Art</div>
          <div id="art1" class="quad">Choir</div>
          <div id="art2" class="quad">Rock Band</div>
          <div id="art3" class="quad">Piano</div>
          <div id="art4" class="quad">Oil painting</div>
        </div>
      </div>

        <svg width="84.04" height="19.35" viewBox="0 0 84.04 19.35" class="freccia" id="frecciaB">
          <polyline class="cls-1" points="63.52 0.72 81.59 18.35 0 18.35"/>
        </svg>

    </div>

    <div id="prova">

    </div>

</body>

<script>

// ---- INTRO ----

var iControl = 0;
var timer;
var st;

//controlla l'apparsa degli elementi dell'intro
function intro() {

  if (iControl == 0) {
    $("#hi").fadeIn(0)
  } else if (iControl == 1) {
      $("#im").fadeIn(0)
    } else if (iControl == 2) {
        $("#nome").fadeIn(200)
      } else if (iControl == 3) {
          $("#g-d-wrapper").delay(300).fadeIn(200)
        } else if (iControl == 4) {
            $("#n-l").delay(600).fadeIn(200)
          } else if (iControl == 5) {
              $("#c-e").delay(900).fadeIn(200)
            } else if (iControl == 6) {
              $("#frecciaA").delay(1200).fadeIn(200)
              clearTimeout(timer)
              }
    iControl = iControl + 1;
  timer = setTimeout(intro, 500);
}

$( document ).ready(function() {
    intro();
});


// ---- EVENTI ALLO SCROLL ----

var control = 0;
var controlMobile = 0;
var tempoScorrim = 1000;
var controled = false;
var controllang = false;
var controlsport = false;
var controlart = false;
var introlife = 0;
var controlMobileCreate = 0;
var controlDeskCreate = 0;
var controlCe = 0;
var controlnl = 0;
var controlgd = 0;

jQuery(document).ready(function(){
    function desktopOnly(){
        var width = (window.innerWidth > 0) ? window.innerWidth : document.documentElement.clientWidth;
        if(width > 768){

          // ---  solo su desktop ---

          $("#wrapper-2").fadeIn(0);

          $(document).scroll(function(event){
             st = $(this).scrollTop();
             if(st > 100) {

               if(control == 0) {
                 // --- compare la lifeline ---
                 horScrollSx()
               }
             } else if(st < 400) {
               if(control == 1) {
                 // --- scompare la lifeline ---
                 horScrollDx()
               }
             }
          });

          // ---- LIFELINE ----
          if(controlDeskCreate == 0) {
            for(i=0; i<11; i++) {
              var line1 = "<div class='line' id='l"+i+"' style='left: "+i*(100/56*3)+"%' ></div>";
              $("#lifeline").append(line1);
            }

            for(i=2; i<11; i++) {
                var line2 = "<div class='line' id='l"+Number(i+10)+"' style='left: "+Number(i*(100/56*2)+100/56*28)+"%' ></div>";
                $("#lifeline").append(line2);
            }

            for(i=1; i<5; i++) {
                var line2 = "<div class='line' id='l"+Number(i+21)+"' style='left: "+Number(i*(100/56)+100/56*49)+"%' ></div>";
                $("#lifeline").append(line2);
            }
            controlDeskCreate = 1;
          }

          //lifeline click

          $("#ed0").click(function() {
            controled = !controled;
            lifelineClick();
          })

          $("#lang0").click(function() {
            controllang = !controllang;
            lifelineClick();
          })

          $("#sport0").click(function() {
            controlsport = !controlsport;
            lifelineClick();
          })

          $("#art0").click(function() {
            controlart = !controlart;
            lifelineClick();
          })

          // ---- EFFETTI HOVER ----


            $("#c-e").mouseover(function() {
              if(controlCe == 0) {
                var games = "<div id='games' class='links'><h2>Try out my games!</h2><div class='linktext'><a href='https://walkingthewire.altervista.org/'>WalkingTheWire</a></div><div class='linktext'><a href='https://aeron13.github.io/momotaro/'>Momotaro</a></div></div>"
                $("#c-e").append(games);
                var arrow = "<svg width='26.94' height='25.37' viewBox='0 0 26.94 25.37' class='arrow'> <polygon class='cls-1' points='26.24 12.69 14.76 1.21 14.76 6.42 0.5 6.42 0.5 18.95 14.76 18.95 14.76 24.17 26.24 12.69'/> </svg>";
                $("#games > .linktext").append(arrow);
                controlCe = 1;
              }
            })

            //nature lover

              $("#n-l").mouseover(function() {
                if(controlnl == 0) {
                  var insta = "<div id='insta' class='links'><h2>Have a look at my landscape photos</h2><div class='linktext'><a href='https://www.instagram.com/eilesselas13/'>Instagram</a></div></div>"
                  $("#n-l").append(insta);
                  var arrow = "<svg width='26.94' height='25.37' viewBox='0 0 26.94 25.37' class='arrow'> <polygon class='cls-1' points='26.24 12.69 14.76 1.21 14.76 6.42 0.5 6.42 0.5 18.95 14.76 18.95 14.76 24.17 26.24 12.69'/> </svg>";
                  $("#insta > .linktext").append(arrow);
                  controlnl = 1;
                }
              })

            //graphic designer

              $("#g-d").mouseover(function() {
                if(controlgd == 0) {
                  var projects = "<div id='projects' class='links'><div class='linktext'><a>Discover my projects</a></div><p>Branding<br>Digital<br>Editorial<br>Illustration</p></div>"
                  $("#g-d-wrapper").append(projects);
                  var arrow = "<svg width='26.94' height='25.37' viewBox='0 0 26.94 25.37' class='arrow'> <polygon class='cls-1' points='26.24 12.69 14.76 1.21 14.76 6.42 0.5 6.42 0.5 18.95 14.76 18.95 14.76 24.17 26.24 12.69'/> </svg>";
                  $("#projects > .linktext").append(arrow);
                  controlgd = 1;
                }
              })


        } else {

          // >>  --- SOLO SU MOBILE ---  <<

          $("#wrapper5, #wrapper3, #wrapper4").fadeIn(0);

          // --- link --- (che si creano una volta sola)
          if(controlMobileCreate == 0) {

            var wrapper = "<div id='wrapper3' class='wrapper'></div><div id='wrapper4' class='wrapper'></div><div id='wrapper5' class='wrapper'></div>";
            $("body").append(wrapper);
            var projectsM = "<div id='projectsM' class='linksM'><div class='linktextM'><a>Discover my projects</a></div><p>Branding<br>Digital<br>Editorial<br>Illustration</p></div>"
            $("#wrapper3").append(projectsM);
            var gamesM = "<div id='gamesM' class='linksM'><h2>Try out my games!</h2><div class='linktextM'><a href='https://walkingthewire.altervista.org/'>WalkingTheWire</a></div><div class='linktextM'><a href='https://aeron13.github.io/momotaro/'>Momotaro</a></div></div>"
            $("#wrapper4").append(gamesM);
            $("#gamesM").click(function() {
                window.location=$(this).find("a").attr("href"); return false; //link
            })
            var instaM = "<div id='instaM' class='linksM'><h2>Have a look at my landscape photos</h2><div class='linktextM'><a href='https://www.instagram.com/eilesselas13/'>Instagram</a></div></div>"
            $("#gamesM").click(function() {
                window.location=$(this).find("a").attr("href"); return false; //link
            })
            var linea = "<div id='lineaM'></div>"
            $("#wrapper5").append(instaM, linea);

            var arrow = "<svg width='26.94' height='25.37' viewBox='0 0 26.94 25.37' class='arrowM'> <polygon class='cls-1' points='26.24 12.69 14.76 1.21 14.76 6.42 0.5 6.42 0.5 18.95 14.76 18.95 14.76 24.17 26.24 12.69'/> </svg>";
            $(".linktextM").append(arrow);

            controlMobileCreate = 1;
          }

          // --- effetti allo scroll ---

          $(document).scroll(function(event){
             st = $(this).scrollTop();

             if(st > 500) {

               if(controlMobile == 0) {
                     // --- simulator diventa grande ---
                $("#simulator").fadeIn(200).animate({
                  top: "0%",
                  width: "100%", height: "100vh",
                }, 500)

                controlMobile = 1;
               }
             } else if(st < 1000) {
               if(controlMobile == 1) {
                  // --- simulator diventa piccolo ---
                  $("#simulator").animate({
                    top: "10%",
                    width: "55%", height: "75%",
                  }, 500).fadeOut(200);
                  controlMobile = 0;
               }
             }
          });

        }
    }
    window.onresize = desktopOnly;
    desktopOnly();
});




// ----- funzioni lifeline --------



// --- compare la lifeline ---
function horScrollSx() {
  $("#hi").animate({left: "-95%"}, tempoScorrim)
  $("#im").animate({left: "-90%"}, tempoScorrim)
  $("#nome").animate({left: "-73%"}, tempoScorrim)
  $("#g-d-wrapper").animate({right: "100%"}, tempoScorrim)
  $("#c-e").animate({left: "-51%"}, tempoScorrim)
  $("#wrapper-2").animate({left: "0%"}, tempoScorrim)
  control = 1;
  if(introlife == 0) {
    lifelineAnimation();
  } introlife = 1;

}

// --- scompare la lifeline ---
function horScrollDx() {
  $("#hi").animate({left: "30%"}, tempoScorrim)
  $("#im").animate({left: "30%"}, tempoScorrim)
  $("#nome").animate({left: "27%"}, tempoScorrim)
  $("#g-d-wrapper").animate({right: "0%"}, tempoScorrim)
  $("#c-e").animate({left: "49%"}, tempoScorrim)
  $("#wrapper-2").animate({left: "100%"}, tempoScorrim)
  control = 0;
}

$("#frecciaA").click(function() {
  if(control == 0) {
    $(document).scrollTop($(document).height());
  }
})

$("#frecciaB").click(function() {
  if(control == 1) {
    $(document).scrollTop(-$(document).height());
  }
})

function lifelineAnimation() {

  if(introlife == 0) {
    //animazione lifeline
    $("#wrapper-2 > .linktext").delay(1000+tempoScorrim).fadeOut(200);
    $("#lifeline").delay(1000+tempoScorrim).fadeIn();
    controled = true;
    $("#ed1").delay(1000+tempoScorrim).animate({width: 100/56*13+"%"}, 500)
    $("#ed2").delay(1500+tempoScorrim).animate({width: 100/56*14+"%"}, 500)
    $("#ed3").delay(2000+tempoScorrim).animate({width: 100/56*7+"%"}, 500)
    $("#ed4").delay(2500+tempoScorrim).animate({width: 100/56*10+"%"}, 500)
    lifelineClick();
  }
  setTimeout(function(){
    controled = false;
    controllang = true;
    lifelineClick();
    setTimeout(function(){
      controllang = false;
      controlsport = true;
      lifelineClick();
      setTimeout(function(){
        controlsport = false;
        controlart = true;
        lifelineClick();
      }, 2500)
    }, 2500)
  }, 4000+tempoScorrim)


}

function lifelineClick() {
  if(controled == false) {
    $("#ed > .quad").css({opacity: "0"})
    $("#ed0").removeClass("yes")
  } else {
    $("#ed > .quad").css({opacity: "1"})
    $("#ed0").addClass("yes")
  }

  if(controllang == false) {
    $("#lang > .quad").css({opacity: "0"})
    $("#lang0").removeClass("yes")
  } else {
    $("#lang > .quad").css({opacity: "1"})
    $("#lang0").addClass("yes")
  }

  if(controlsport == false) {
    $("#sport > .quad").css({opacity: "0"})
    $("#sport0").removeClass("yes")
  } else {
    $("#sport > .quad").css({opacity: "1"})
    $("#sport0").addClass("yes")
  }

  if(controlart == false) {
    $("#art > .quad").css({opacity: "0"})
    $("#art0").removeClass("yes")
  } else {
    $("#art > .quad").css({opacity: "1"})
    $("#art0").addClass("yes")
  }

}



</script>


</html>

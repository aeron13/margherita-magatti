<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">

<title>Margherita Magatti</title>
<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700&display=swap" rel="stylesheet">
<script type="text/javascript" src="jquery-2.1.1.min.js"></script>
<script type="text/javascript" src="jquery-ui.min.js"></script>
<link rel="stylesheet" type="text/css" href="./homepagestyle.css">
<link rel="stylesheet" type="text/css" href="./homepagestylemobile.css">


</head>


<body>

    <div id="wrapper-1">

      <div id="hi">
      </div>
      <div id="im">
        <div id="n-l">
        </div>
      </div>
      <div id="g-d-wrapper">
        <div id="g-d">

            <svg width="84.04" height="19.35" viewBox="0 0 84.04 19.35" class="freccia" id="frecciaA">
              <polyline class="cls-1" points="63.52 0.72 81.59 18.35 0 18.35"/>
            </svg>

        </div>
      </div>
      <div id="nome">
      </div>
      <div id="c-e">
      </div>
    </div>

    <div id="wrapper-2">
      <div id="lifeline">
      </div>

        <svg width="84.04" height="19.35" viewBox="0 0 84.04 19.35" class="freccia" id="frecciaB">
          <polyline class="cls-1" points="63.52 0.72 81.59 18.35 0 18.35"/>
        </svg>

    </div>

    <div id="prova">

    </div>

</body>

<script>

// ---- INTRO ----

var iControl = 0;
var timer;
var st;

//controlla l'apparsa degli elementi dell'intro
function intro() {

  if (iControl == 0) {
    $("#hi").fadeIn(0)
  } else if (iControl == 1) {
      $("#im").fadeIn(0)
    } else if (iControl == 2) {
        $("#nome").fadeIn(200)
      } else if (iControl == 3) {
          $("#g-d-wrapper").delay(300).fadeIn(200)
        } else if (iControl == 4) {
            $("#n-l").delay(600).fadeIn(200)
          } else if (iControl == 5) {
              $("#c-e").delay(900).fadeIn(200)
            } else if (iControl == 6) {
              $("#frecciaA").delay(1200).fadeIn(200)
              clearTimeout(timer)
              }
    iControl = iControl + 1;
  timer = setTimeout(intro, 500);
}

$( document ).ready(function() {
    intro();
});


// ---- EVENTI ALLO SCROLL ----

var control = 0;
var controlMobile = 0;
var tempoScorrim = 1000;

jQuery(document).ready(function(){
    function desktopOnly(){
        var width = (window.innerWidth > 0) ? window.innerWidth : document.documentElement.clientWidth;
        if(width > 768){

          // ---  solo su desktop ---

          $(document).scroll(function(event){
             st = $(this).scrollTop();
             if(st > 100) {

               if(control == 0) {
                 // --- compare la lifeline ---
                 horScrollSx()
               }
             } else if(st < 400) {
               if(control == 1) {
                 // --- scompare la lifeline ---
                 horScrollDx()
               }
             }
          });

          // ---- EFFETTI HOVER ----

          //code enthusiast
          var controlCe = 0;

            $("#c-e").mouseover(function() {
              if(controlCe == 0) {
                var games = "<div id='games' class='links'><h2>Try out my games!</h2><div class='linktext'><a href='https://walkingthewire.altervista.org/'>WalkingTheWire</a></div><div class='linktext'><a href='https://aeron13.github.io/momotaro/'>Momotaro</a></div></div>"
                $("#c-e").append(games);
                var arrow = "<svg width='26.94' height='25.37' viewBox='0 0 26.94 25.37' class='arrow'> <polygon class='cls-1' points='26.24 12.69 14.76 1.21 14.76 6.42 0.5 6.42 0.5 18.95 14.76 18.95 14.76 24.17 26.24 12.69'/> </svg>";
                $("#games > .linktext").append(arrow);
                controlCe = 1;
              }
            })

            //nature lover
            var controlnl = 0;

              $("#n-l").mouseover(function() {
                if(controlnl == 0) {
                  var insta = "<div id='insta' class='links'><h2>Have a look at my landscape photos</h2><div class='linktext'><a href='https://www.instagram.com/eilesselas13/'>Instagram</a></div></div>"
                  $("#n-l").append(insta);
                  var arrow = "<svg width='26.94' height='25.37' viewBox='0 0 26.94 25.37' class='arrow'> <polygon class='cls-1' points='26.24 12.69 14.76 1.21 14.76 6.42 0.5 6.42 0.5 18.95 14.76 18.95 14.76 24.17 26.24 12.69'/> </svg>";
                  $("#insta > .linktext").append(arrow);
                  controlnl = 1;
                }
              })

            //graphic designer
            var controlgd = 0;

              $("#g-d").mouseover(function() {
                if(controlgd == 0) {
                  var projects = "<div id='projects' class='links'><div class='linktext'><a>Discover my projects</a></div><p>Branding<br>Digital<br>Editorial<br>Illustration</p></div>"
                  $("#g-d-wrapper").append(projects);
                  var arrow = "<svg width='26.94' height='25.37' viewBox='0 0 26.94 25.37' class='arrow'> <polygon class='cls-1' points='26.24 12.69 14.76 1.21 14.76 6.42 0.5 6.42 0.5 18.95 14.76 18.95 14.76 24.17 26.24 12.69'/> </svg>";
                  $("#projects > .linktext").append(arrow);
                  controlgd = 1;
                }
              })


        } else {
          // ---  solo su mobile ---

          var wrapper = "<div id='wrapper3' class='wrapper'></div><div id='wrapper4' class='wrapper'></div><div id='wrapper5' class='wrapper'></div>";
          $("body").append(wrapper);
          /*var linkP = "<div id='wrapper3' class='wrapper'></div>"*/

          $(document).scroll(function(event){
             st = $(this).scrollTop();
             if(st > 100) {

               if(controlMobile == 0) {
                 // --- g-d-wrapper diventa grande ---
                 $("#g-d-wrapper").css({
                   "transform-origin": "left center",
                 });

                 $("#g-d-wrapper").animate({
                   top: "0%",
                   width: "100%", height: "100vh",
                 }, 500)

                 $("#g-d").fadeOut();
                 controlMobile = 1;
               }
             } else if(st < 400) {
               if(controlMobile == 1) {
                  // --- g-d-wrapper diventa piccolo ---
                  $("#g-d-wrapper").animate({
                    top: "10%",
                    width: "55%", height: "75%",
                  }, 500)

                  $("#g-d").fadeIn();

                  controlMobile = 0;
               }
             }
          });

        }
    }
    window.onresize = desktopOnly;
    desktopOnly();
});

// --- compare la lifeline ---
function horScrollSx() {
  $("#hi").animate({left: "-95%"}, tempoScorrim)
  $("#im").animate({left: "-90%"}, tempoScorrim)
  $("#nome").animate({left: "-73%"}, tempoScorrim)
  $("#g-d-wrapper").animate({right: "100%"}, tempoScorrim)
  $("#c-e").animate({left: "-51%"}, tempoScorrim)
  $("#wrapper-2").animate({left: "0%"}, tempoScorrim)
  control = 1;
}

// --- scompare la lifeline ---
function horScrollDx() {
  $("#hi").animate({left: "30%"}, tempoScorrim)
  $("#im").animate({left: "30%"}, tempoScorrim)
  $("#nome").animate({left: "27%"}, tempoScorrim)
  $("#g-d-wrapper").animate({right: "0%"}, tempoScorrim)
  $("#c-e").animate({left: "49%"}, tempoScorrim)
  $("#wrapper-2").animate({left: "100%"}, tempoScorrim)
  control = 0;
}

$("#frecciaA").click(function() {
  if(control == 0) {
    $(document).scrollTop($(document).height());
  }
})

$("#frecciaB").click(function() {
  if(control == 1) {
    $(document).scrollTop(-$(document).height());
  }
})


</script>


</html>
